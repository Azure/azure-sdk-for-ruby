---
http_interactions:
- request:
    method: get
    uri: https://login.windows.net/<AZURE_TENANT_ID>/oauth2/token
    body:
      encoding: UTF-8
      string: resource=https%3A%2F%2Fmanagement.core.windows.net%2F&client_id=<AZURE_CLIENT_ID>&client_secret=<AZURE_CLIENT_SECRET>&grant_type=client_credentials
    headers:
      User-Agent:
      - Faraday v0.9.2
      content-type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 200
      message: 
    headers:
      cache-control:
      - no-cache, no-store
      pragma:
      - no-cache
      content-type:
      - application/json; charset=utf-8
      expires:
      - "-1"
      server:
      - Microsoft-IIS/8.5
      x-ms-request-id:
      - 4a06716d-07e5-4c99-9c87-e2937429a5b5
      client-request-id:
      - 9753d4c5-5d67-499f-b4df-e6effbb98a83
      x-ms-gateway-service-instanceid:
      - ESTSFE_IN_144
      x-content-type-options:
      - nosniff
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - flight-uxoptin=true; path=/; secure; HttpOnly, x-ms-gateway-slice=productionb;
        path=/; secure; HttpOnly, stsservicecookie=ests; path=/; secure; HttpOnly
      x-powered-by:
      - ASP.NET
      date:
      - Sun, 24 Apr 2016 17:18:28 GMT
      connection:
      - close
      content-length:
      - '1234'
    body:
      encoding: UTF-8
      string: '{"token_type":"Bearer","expires_in":"3599","expires_on":"1461521909","not_before":"1461518009","resource":"https://management.core.windows.net/","access_token":"<ACCESS_TOKEN>"}'
    http_version: 
  recorded_at: Sun, 24 Apr 2016 17:18:28 GMT
- request:
    method: put
    uri: https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourcegroups/RubySDKTest_azure_mgmt_network?api-version=2015-11-01
    body:
      encoding: UTF-8
      string: '{"location":"westus"}'
    headers:
      User-Agent:
      - Azure-SDK-For-Ruby/0.2.1/
      x-ms-client-request-id:
      - 874847c9-990c-4a09-bd2c-dc216507debe
      accept-language:
      - en-US
      Content-Type:
      - application/json; charset=utf-8
  response:
    status:
      code: 201
      message: 
    headers:
      cache-control:
      - no-cache
      pragma:
      - no-cache
      content-length:
      - '213'
      content-type:
      - application/json; charset=utf-8
      expires:
      - "-1"
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
      x-ms-request-id:
      - 287860f3-4f4c-491f-a3bc-8c0c98c45dbf
      x-ms-correlation-request-id:
      - 287860f3-4f4c-491f-a3bc-8c0c98c45dbf
      x-ms-routing-request-id:
      - WESTUS:20160424T171829Z:287860f3-4f4c-491f-a3bc-8c0c98c45dbf
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      date:
      - Sun, 24 Apr 2016 17:18:29 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: '{"id":"/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network","name":"RubySDKTest_azure_mgmt_network","location":"westus","properties":{"provisioningState":"Succeeded"}}'
    http_version: 
  recorded_at: Sun, 24 Apr 2016 17:18:29 GMT
- request:
    method: put
    uri: https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network/providers/Microsoft.Network/virtualnetworks/test_vnet?api-version=2015-06-15
    body:
      encoding: UTF-8
      string: '{"location":"westus","properties":{"addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":["10.1.1.1","10.1.2.4"]},"subnets":[{"properties":{"addressPrefix":"10.0.2.0/24"},"name":"subnet1234"}]}}'
    headers:
      User-Agent:
      - Azure-SDK-For-Ruby/0.2.1/
      x-ms-client-request-id:
      - 8c246266-b046-49d2-9e43-c4c47f8122dd
      accept-language:
      - en-US
      Content-Type:
      - application/json; charset=utf-8
  response:
    status:
      code: 201
      message: 
    headers:
      cache-control:
      - no-cache
      pragma:
      - no-cache
      content-length:
      - '1087'
      content-type:
      - application/json; charset=utf-8
      expires:
      - "-1"
      retry-after: '1'
      x-ms-request-id:
      - b73c92c4-b1c0-4a49-97c4-9199b287f2c8
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/providers/Microsoft.Network/locations/westus/operations/b73c92c4-b1c0-4a49-97c4-9199b287f2c8?api-version=2015-06-15
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      server:
      - Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-ms-correlation-request-id:
      - 31955f4e-cd26-4a84-92d5-e123782cd863
      x-ms-routing-request-id:
      - WESTUS:20160424T171830Z:31955f4e-cd26-4a84-92d5-e123782cd863
      date:
      - Sun, 24 Apr 2016 17:18:30 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: "{\r\n  \"name\": \"test_vnet\",\r\n  \"id\": \"/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network/providers/Microsoft.Network/virtualNetworks/test_vnet\",\r\n
        \ \"etag\": \"W/\\\"b1105f8e-58d4-47b9-87eb-7524de0ce502\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"57d4eebc-e5c0-458e-bdc6-f0dac439232b\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.0.0.0/16\"\r\n      ]\r\n    },\r\n    \"dhcpOptions\":
        {\r\n      \"dnsServers\": [\r\n        \"10.1.1.1\",\r\n        \"10.1.2.4\"\r\n
        \     ]\r\n    },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"subnet1234\",\r\n
        \       \"id\": \"/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network/providers/Microsoft.Network/virtualNetworks/test_vnet/subnets/subnet1234\",\r\n
        \       \"etag\": \"W/\\\"b1105f8e-58d4-47b9-87eb-7524de0ce502\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.0.2.0/24\"\r\n        }\r\n      }\r\n    ]\r\n
        \ }\r\n}"
    http_version: 
  recorded_at: Sun, 24 Apr 2016 17:18:30 GMT
- request:
    method: get
    uri: https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/providers/Microsoft.Network/locations/westus/operations/b73c92c4-b1c0-4a49-97c4-9199b287f2c8?api-version=2015-06-15
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Azure-SDK-For-Ruby/0.2.1/
      x-ms-client-request-id:
      - e72ba870-8583-4962-a4a5-adce22b9b54d
      accept-language:
      - en-US
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: 
    headers:
      cache-control:
      - no-cache
      pragma:
      - no-cache
      content-type:
      - application/json; charset=utf-8
      expires:
      - "-1"
      vary:
      - Accept-Encoding
      x-ms-request-id:
      - 59e3e43d-63a6-49f9-9722-5820f039bb65
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      server:
      - Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0
      x-ms-ratelimit-remaining-subscription-reads:
      - '14997'
      x-ms-correlation-request-id:
      - 0623d348-2842-4e88-ba79-bc95990842f0
      x-ms-routing-request-id:
      - WESTUS:20160424T171901Z:0623d348-2842-4e88-ba79-bc95990842f0
      date:
      - Sun, 24 Apr 2016 17:19:01 GMT
      connection:
      - close
    body:
      encoding: ASCII-8BIT
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    http_version: 
  recorded_at: Sun, 24 Apr 2016 17:19:00 GMT
- request:
    method: get
    uri: https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network/providers/Microsoft.Network/virtualnetworks/test_vnet?api-version=2015-06-15
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Azure-SDK-For-Ruby/0.2.1/
      x-ms-client-request-id:
      - 4fc08854-ee17-401d-a97c-78d7e0d42cd3
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: 
    headers:
      cache-control:
      - no-cache
      pragma:
      - no-cache
      content-type:
      - application/json; charset=utf-8
      expires:
      - "-1"
      etag:
      - W/"5643db4c-03a7-42c3-8964-ffd700940c4a"
      vary:
      - Accept-Encoding
      x-ms-request-id:
      - 8951f68b-9ebc-429e-8c72-6239886f9dc6
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      server:
      - Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0
      x-ms-ratelimit-remaining-subscription-reads:
      - '14999'
      x-ms-correlation-request-id:
      - 387a90ff-f91a-4466-b69e-68d30466eed8
      x-ms-routing-request-id:
      - WESTUS:20160424T171901Z:387a90ff-f91a-4466-b69e-68d30466eed8
      date:
      - Sun, 24 Apr 2016 17:19:01 GMT
      connection:
      - close
    body:
      encoding: ASCII-8BIT
      string: "{\r\n  \"name\": \"test_vnet\",\r\n  \"id\": \"/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network/providers/Microsoft.Network/virtualNetworks/test_vnet\",\r\n
        \ \"etag\": \"W/\\\"5643db4c-03a7-42c3-8964-ffd700940c4a\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"57d4eebc-e5c0-458e-bdc6-f0dac439232b\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.0.0.0/16\"\r\n      ]\r\n    },\r\n    \"dhcpOptions\":
        {\r\n      \"dnsServers\": [\r\n        \"10.1.1.1\",\r\n        \"10.1.2.4\"\r\n
        \     ]\r\n    },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"subnet1234\",\r\n
        \       \"id\": \"/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network/providers/Microsoft.Network/virtualNetworks/test_vnet/subnets/subnet1234\",\r\n
        \       \"etag\": \"W/\\\"5643db4c-03a7-42c3-8964-ffd700940c4a\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.0.2.0/24\"\r\n        }\r\n      }\r\n    ]\r\n
        \ }\r\n}"
    http_version: 
  recorded_at: Sun, 24 Apr 2016 17:19:01 GMT
- request:
    method: get
    uri: https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network/providers/Microsoft.Network/virtualnetworks/test_vnet/subnets?api-version=2015-06-15
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Azure-SDK-For-Ruby/0.2.1/
      x-ms-client-request-id:
      - ce3d71d5-8199-4be9-a0d1-fddc1e708e1f
      accept-language:
      - en-US
  response:
    status:
      code: 200
      message: 
    headers:
      cache-control:
      - no-cache
      pragma:
      - no-cache
      content-type:
      - application/json; charset=utf-8
      expires:
      - "-1"
      vary:
      - Accept-Encoding
      x-ms-request-id:
      - e3697bb6-f2ae-4f90-9c24-eba537256e25
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      server:
      - Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0
      x-ms-ratelimit-remaining-subscription-reads:
      - '14996'
      x-ms-correlation-request-id:
      - 326c00ff-e4ba-432c-9df1-73c5f27cb289
      x-ms-routing-request-id:
      - WESTUS:20160424T171901Z:326c00ff-e4ba-432c-9df1-73c5f27cb289
      date:
      - Sun, 24 Apr 2016 17:19:01 GMT
      connection:
      - close
    body:
      encoding: ASCII-8BIT
      string: "{\r\n  \"value\": [\r\n    {\r\n      \"name\": \"subnet1234\",\r\n
        \     \"id\": \"/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/RubySDKTest_azure_mgmt_network/providers/Microsoft.Network/virtualNetworks/test_vnet/subnets/subnet1234\",\r\n
        \     \"etag\": \"W/\\\"5643db4c-03a7-42c3-8964-ffd700940c4a\\\"\",\r\n      \"properties\":
        {\r\n        \"provisioningState\": \"Succeeded\",\r\n        \"addressPrefix\":
        \"10.0.2.0/24\"\r\n      }\r\n    }\r\n  ]\r\n}"
    http_version: 
  recorded_at: Sun, 24 Apr 2016 17:19:01 GMT
- request:
    method: delete
    uri: https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourcegroups/RubySDKTest_azure_mgmt_network?api-version=2015-11-01
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Azure-SDK-For-Ruby/0.2.1/
      x-ms-client-request-id:
      - 78eb941d-e948-472a-8848-9de3fb86538d
      accept-language:
      - en-US
  response:
    status:
      code: 202
      message: 
    headers:
      cache-control:
      - no-cache
      pragma:
      - no-cache
      expires:
      - "-1"
      location:
      - https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1SVUJZU0RLVEVTVDo1RkFaVVJFOjVGTUdNVDo1Rk5FVFdPUkstV0VTVFVTIiwiam9iTG9jYXRpb24iOiJ3ZXN0dXMifQ?api-version=2015-11-01
      retry-after: '1'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-ms-request-id:
      - bdbd1e97-5597-4b96-afc1-89e4e52894e3
      x-ms-correlation-request-id:
      - bdbd1e97-5597-4b96-afc1-89e4e52894e3
      x-ms-routing-request-id:
      - WESTUS:20160424T171902Z:bdbd1e97-5597-4b96-afc1-89e4e52894e3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      date:
      - Sun, 24 Apr 2016 17:19:02 GMT
      connection:
      - close
      content-length:
      - '0'
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Sun, 24 Apr 2016 17:19:01 GMT
- request:
    method: get
    uri: https://management.azure.com/subscriptions/<AZURE_SUBSCRIPTION_ID>/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1SVUJZU0RLVEVTVDo1RkFaVVJFOjVGTUdNVDo1Rk5FVFdPUkstV0VTVFVTIiwiam9iTG9jYXRpb24iOiJ3ZXN0dXMifQ?api-version=2015-11-01
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Azure-SDK-For-Ruby/0.2.1/
      x-ms-client-request-id:
      - 6865d88a-111d-49ad-91a6-e0e0ffce7462
      accept-language:
      - en-US
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: 
    headers:
      cache-control:
      - no-cache
      pragma:
      - no-cache
      expires:
      - "-1"
      x-ms-ratelimit-remaining-subscription-reads:
      - '14995'
      x-ms-request-id:
      - c16d2f3a-3f2f-4d07-8414-ca58029791f3
      x-ms-correlation-request-id:
      - c16d2f3a-3f2f-4d07-8414-ca58029791f3
      x-ms-routing-request-id:
      - WESTUS:20160424T172104Z:c16d2f3a-3f2f-4d07-8414-ca58029791f3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      date:
      - Sun, 24 Apr 2016 17:21:04 GMT
      connection:
      - close
      content-length:
      - '0'
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Sun, 24 Apr 2016 17:21:04 GMT
recorded_with: VCR 3.0.1
