# encoding: utf-8
# Code generated by Microsoft (R) AutoRest Code Generator.
# Changes may cause incorrect behavior and will be lost if the code is
# regenerated.

module Azure::Batch::V2017_09_01_6_0
  module Models
    #
    # An Azure Batch task to add.
    #
    #
    class TaskAddParameter

      include MsRestAzure

      # @return [String] A string that uniquely identifies the task within the
      # job. The ID can contain any combination of alphanumeric characters
      # including hyphens and underscores, and cannot contain more than 64
      # characters. The ID is case-preserving and case-insensitive (that is,
      # you may not have two IDs within a job that differ only by case).
      attr_accessor :id

      # @return [String] A display name for the task. The display name need not
      # be unique and can contain any Unicode characters up to a maximum length
      # of 1024.
      attr_accessor :display_name

      # @return [String] The command line of the task. For multi-instance
      # tasks, the command line is executed as the primary task, after the
      # primary task and all subtasks have finished executing the coordination
      # command line. The command line does not run under a shell, and
      # therefore cannot take advantage of shell features such as environment
      # variable expansion. If you want to take advantage of such features, you
      # should invoke the shell in the command line, for example using "cmd /c
      # MyCommand" in Windows or "/bin/sh -c MyCommand" in Linux.
      attr_accessor :command_line

      # @return [TaskContainerSettings] The settings for the container under
      # which the task runs. If the pool that will run this task has
      # containerConfiguration set, this must be set as well. If the pool that
      # will run this task doesn't have containerConfiguration set, this must
      # not be set. When this is specified, all directories recursively below
      # the AZ_BATCH_NODE_ROOT_DIR (the root of Azure Batch directories on the
      # node) are mapped into the container, all task environment variables are
      # mapped into the container, and the task command line is executed in the
      # container.
      attr_accessor :container_settings

      # @return [ExitConditions] How the Batch service should respond when the
      # task completes.
      attr_accessor :exit_conditions

      # @return [Array<ResourceFile>] A list of files that the Batch service
      # will download to the compute node before running the command line. For
      # multi-instance tasks, the resource files will only be downloaded to the
      # compute node on which the primary task is executed.
      attr_accessor :resource_files

      # @return [Array<OutputFile>] A list of files that the Batch service will
      # upload from the compute node after running the command line. For
      # multi-instance tasks, the files will only be uploaded from the compute
      # node on which the primary task is executed.
      attr_accessor :output_files

      # @return [Array<EnvironmentSetting>] A list of environment variable
      # settings for the task.
      attr_accessor :environment_settings

      # @return [AffinityInformation] A locality hint that can be used by the
      # Batch service to select a compute node on which to start the new task.
      attr_accessor :affinity_info

      # @return [TaskConstraints] The execution constraints that apply to this
      # task. If you do not specify constraints, the maxTaskRetryCount is the
      # maxTaskRetryCount specified for the job, and the maxWallClockTime and
      # retentionTime are infinite.
      attr_accessor :constraints

      # @return [UserIdentity] The user identity under which the task runs. If
      # omitted, the task runs as a non-administrative user unique to the task.
      attr_accessor :user_identity

      # @return [MultiInstanceSettings] An object that indicates that the task
      # is a multi-instance task, and contains information about how to run the
      # multi-instance task.
      attr_accessor :multi_instance_settings

      # @return [TaskDependencies] The tasks that this task depends on. This
      # task will not be scheduled until all tasks that it depends on have
      # completed successfully. If any of those tasks fail and exhaust their
      # retry counts, this task will never be scheduled. If the job does not
      # have usesTaskDependencies set to true, and this element is present, the
      # request fails with error code TaskDependenciesNotSpecifiedOnJob.
      attr_accessor :depends_on

      # @return [Array<ApplicationPackageReference>] A list of application
      # packages that the Batch service will deploy to the compute node before
      # running the command line. Application packages are downloaded and
      # deployed to a shared directory, not the task working directory.
      # Therefore, if a referenced package is already on the compute node, and
      # is up to date, then it is not re-downloaded; the existing copy on the
      # compute node is used. If a referenced application package cannot be
      # installed, for example because the package has been deleted or because
      # download failed, the task fails.
      attr_accessor :application_package_references

      # @return [AuthenticationTokenSettings] The settings for an
      # authentication token that the task can use to perform Batch service
      # operations. If this property is set, the Batch service provides the
      # task with an authentication token which can be used to authenticate
      # Batch service operations without requiring an account access key. The
      # token is provided via the AZ_BATCH_AUTHENTICATION_TOKEN environment
      # variable. The operations that the task can carry out using the token
      # depend on the settings. For example, a task can request job permissions
      # in order to add other tasks to the job, or check the status of the job
      # or of other tasks under the job.
      attr_accessor :authentication_token_settings


      #
      # Mapper for TaskAddParameter class as Ruby Hash.
      # This will be used for serialization/deserialization.
      #
      def self.mapper()
        {
          client_side_validation: true,
          required: false,
          serialized_name: 'TaskAddParameter',
          type: {
            name: 'Composite',
            class_name: 'TaskAddParameter',
            model_properties: {
              id: {
                client_side_validation: true,
                required: true,
                serialized_name: 'id',
                type: {
                  name: 'String'
                }
              },
              display_name: {
                client_side_validation: true,
                required: false,
                serialized_name: 'displayName',
                type: {
                  name: 'String'
                }
              },
              command_line: {
                client_side_validation: true,
                required: true,
                serialized_name: 'commandLine',
                type: {
                  name: 'String'
                }
              },
              container_settings: {
                client_side_validation: true,
                required: false,
                serialized_name: 'containerSettings',
                type: {
                  name: 'Composite',
                  class_name: 'TaskContainerSettings'
                }
              },
              exit_conditions: {
                client_side_validation: true,
                required: false,
                serialized_name: 'exitConditions',
                type: {
                  name: 'Composite',
                  class_name: 'ExitConditions'
                }
              },
              resource_files: {
                client_side_validation: true,
                required: false,
                serialized_name: 'resourceFiles',
                type: {
                  name: 'Sequence',
                  element: {
                      client_side_validation: true,
                      required: false,
                      serialized_name: 'ResourceFileElementType',
                      type: {
                        name: 'Composite',
                        class_name: 'ResourceFile'
                      }
                  }
                }
              },
              output_files: {
                client_side_validation: true,
                required: false,
                serialized_name: 'outputFiles',
                type: {
                  name: 'Sequence',
                  element: {
                      client_side_validation: true,
                      required: false,
                      serialized_name: 'OutputFileElementType',
                      type: {
                        name: 'Composite',
                        class_name: 'OutputFile'
                      }
                  }
                }
              },
              environment_settings: {
                client_side_validation: true,
                required: false,
                serialized_name: 'environmentSettings',
                type: {
                  name: 'Sequence',
                  element: {
                      client_side_validation: true,
                      required: false,
                      serialized_name: 'EnvironmentSettingElementType',
                      type: {
                        name: 'Composite',
                        class_name: 'EnvironmentSetting'
                      }
                  }
                }
              },
              affinity_info: {
                client_side_validation: true,
                required: false,
                serialized_name: 'affinityInfo',
                type: {
                  name: 'Composite',
                  class_name: 'AffinityInformation'
                }
              },
              constraints: {
                client_side_validation: true,
                required: false,
                serialized_name: 'constraints',
                type: {
                  name: 'Composite',
                  class_name: 'TaskConstraints'
                }
              },
              user_identity: {
                client_side_validation: true,
                required: false,
                serialized_name: 'userIdentity',
                type: {
                  name: 'Composite',
                  class_name: 'UserIdentity'
                }
              },
              multi_instance_settings: {
                client_side_validation: true,
                required: false,
                serialized_name: 'multiInstanceSettings',
                type: {
                  name: 'Composite',
                  class_name: 'MultiInstanceSettings'
                }
              },
              depends_on: {
                client_side_validation: true,
                required: false,
                serialized_name: 'dependsOn',
                type: {
                  name: 'Composite',
                  class_name: 'TaskDependencies'
                }
              },
              application_package_references: {
                client_side_validation: true,
                required: false,
                serialized_name: 'applicationPackageReferences',
                type: {
                  name: 'Sequence',
                  element: {
                      client_side_validation: true,
                      required: false,
                      serialized_name: 'ApplicationPackageReferenceElementType',
                      type: {
                        name: 'Composite',
                        class_name: 'ApplicationPackageReference'
                      }
                  }
                }
              },
              authentication_token_settings: {
                client_side_validation: true,
                required: false,
                serialized_name: 'authenticationTokenSettings',
                type: {
                  name: 'Composite',
                  class_name: 'AuthenticationTokenSettings'
                }
              }
            }
          }
        }
      end
    end
  end
end
